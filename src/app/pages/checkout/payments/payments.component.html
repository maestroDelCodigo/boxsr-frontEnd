<div class="container">
  <form novalidate (ngSubmit)="createToken()"  [formGroup]="stripeForm">

    <div class="form-group">
      <mat-form-field class="full-width">
        <mat-label>Nombre</mat-label>
        <input matInput formControlName="name" [ngClass]="{ 'is-invalid': submitted && f.name.errors }" />
        <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
          <div *ngIf="f.name.errors.required">Nombre requerido</div>
        </div>
      </mat-form-field>
    </div>

    <div class="form-group">
      <mat-form-field class="full-width">
        <mat-label>Apellidos</mat-label>
        <input matInput formControlName="apellidos" [ngClass]="{ 'is-invalid': submitted && f.apellidos.errors }" />
        <div *ngIf="submitted && f.apellidos.errors" class="invalid-feedback">
          <div *ngIf="f.apellidos.errors.required">Apellido obligatorio</div>
        </div>
      </mat-form-field>
    </div>

    <div class="form-group">
      <mat-form-field class="full-width">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" [ngClass]="{ 'is-invalid': submitted && f.email.errors }" />
        <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
          <div *ngIf="f.email.errors.required">Email requerido</div>
        </div>
      </mat-form-field>
    </div>

    <div class="form-group">
      <mat-form-field class="full-width">
        <mat-label>Dirección</mat-label>
        <input matInput formControlName="direccion" [ngClass]="{ 'is-invalid': submitted && f.direccion.errors }" />
        <div *ngIf="submitted && f.direccion.errors" class="invalid-feedback">
          <div *ngIf="f.direccion.errors.maxLength">
          </div>
          <div *ngIf="f.direccion.errors.required">Dirección obligatoria</div>
        </div>
      </mat-form-field>
    </div>

    <div class="form-group">
      <mat-form-field class="reduce-with">
        <mat-label>Población</mat-label>
        <input matInput formControlName="poblacion" [ngClass]="{ 'is-invalid': submitted && f.poblacion.errors }" />
        <div *ngIf="submitted && f.poblacion.errors" class="invalid-feedback">
          <div *ngIf="f.poblacion.errors.maxLength">
          </div>
          <div *ngIf="f.poblacion.errors.required">Poblacion obligatoria</div>
        </div>
      </mat-form-field>
      <mat-form-field class="reduce-with">
        <mat-label>Código Postal</mat-label>
        <input matInput formControlName="codigo_postal"
          [ngClass]="{ 'is-invalid': submitted && f.codigo_postal.errors }" />
        <div *ngIf="submitted && f.codigo_postal.errors" class="invalid-feedback">
          <div *ngIf="f.codigo_postal.errors.maxLength">
          </div>
          <div *ngIf="f.codigo_postal.errors.required">Código postal obligatorio</div>
        </div>
      </mat-form-field>
    </div>

    <div class="form-group">
      <mat-form-field class="full-width">
        <mat-label>Provincia</mat-label>
        <input matInput formControlName="provincia" [ngClass]="{ 'is-invalid': submitted && f.provincia.errors }" />
        <div *ngIf="submitted && f.provincia.errors" class="invalid-feedback">
          <div *ngIf="f.provincia.errors.maxLength">
          </div>
          <div *ngIf="f.provincia.errors.required">Provincia obligatoria</div>
        </div>
      </mat-form-field>
    </div>
    <div class="form-group">
      <mat-form-field class="full-width">
        <mat-label>Notas</mat-label>
        <input matInput formControlName="notas" [ngClass]="{ 'is-invalid': submitted && f.notas.errors }" />
        <div *ngIf="submitted && f.notas.errors" class="invalid-feedback">
          
        </div>
      </mat-form-field>
    </div>

    <ngx-stripe-card [options]="cardOptions" [elementsOptions]="elementsOptions"></ngx-stripe-card>
    <button type="submit" (click)="guardarPedido(stripeForm.value)">
      PAGAR
    </button>
  </form>
</div>